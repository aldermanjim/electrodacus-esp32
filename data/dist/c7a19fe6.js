(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings"],{"175c":function(e,t,a){},"1b65":function(e,t,a){"use strict";var n=a("436a"),s=a.n(n);s.a},"26d3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Grid",[a("WiFi"),a("Mqtt"),a("Data"),a("System")],1)},s=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{attrs:{title:"WiFi",unsaved:e.changed}},[a("form",{staticClass:"flex"},[a("h3",[e._v("Wifi Client Mode "),a("Tooltip",{attrs:{text:"Use this to connect to your existing router. If the connection is lost, it will automatically fall back to creating it's own Access Point as configured below."}})],1),a("div",{staticClass:"formgrid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.sta_enable,expression:"conf.sta_enable"}],attrs:{type:"checkbox",id:"sta_enable",name:"sta_enable"},domProps:{checked:Array.isArray(e.conf.sta_enable)?e._i(e.conf.sta_enable,null)>-1:e.conf.sta_enable},on:{change:function(t){var a=e.conf.sta_enable,n=t.target,s=!!n.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);n.checked?i<0&&e.$set(e.conf,"sta_enable",a.concat([o])):i>-1&&e.$set(e.conf,"sta_enable",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.conf,"sta_enable",s)}}}),a("label",{attrs:{for:"sta_enable"}},[e._v("Enable WiFi Client "),a("Tooltip",{attrs:{text:"Enables connecting to your existing router"}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.hostname,expression:"conf.hostname"}],attrs:{type:"text",id:"hostname",name:"hostname",disabled:!e.conf.sta_enable},domProps:{value:e.conf.hostname},on:{input:function(t){t.target.composing||e.$set(e.conf,"hostname",t.target.value)}}}),a("label",{attrs:{for:"hostname"}},[e._v("Hostname "),a("Tooltip",{attrs:{text:"The name under which the device will be found in your network"}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.sta_ssid,expression:"conf.sta_ssid"}],attrs:{type:"text",id:"sta_ssid",name:"sta_ssid",disabled:!e.conf.sta_enable},domProps:{value:e.conf.sta_ssid},on:{input:function(t){t.target.composing||e.$set(e.conf,"sta_ssid",t.target.value)}}}),a("label",{attrs:{for:"sta_ssid"}},[e._v("SSID")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.sta_pw,expression:"conf.sta_pw"}],attrs:{type:"password",id:"sta_pw",name:"sta_pw",disabled:!e.conf.sta_enable},domProps:{value:e.conf.sta_pw},on:{input:function(t){t.target.composing||e.$set(e.conf,"sta_pw",t.target.value)}}}),a("label",{attrs:{for:"sta_pw"}},[e._v("WiFi Password")])]),a("h3",[e._v("Wifi AP Mode "),a("Tooltip",{attrs:{text:"Access Point Mode Configuration. This is the WiFi name and Password the device will use to create it's own access point. Please remember this very well as there is currently no way to reset it without reflashing the software via cable."}})],1),a("div",{staticClass:"formgrid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.ap_ssid,expression:"conf.ap_ssid"}],attrs:{type:"text",id:"ap_ssid",name:"ap_ssid"},domProps:{value:e.conf.ap_ssid},on:{input:function(t){t.target.composing||e.$set(e.conf,"ap_ssid",t.target.value)}}}),a("label",{attrs:{for:"ap_ssid"}},[e._v("SSID "),a("Tooltip",{attrs:{text:"If empty, default name will be used. Default is SBMS-[UUID]"}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.ap_pw,expression:"conf.ap_pw"}],attrs:{type:"password",id:"ap_pw",name:"ap_pw"},domProps:{value:e.conf.ap_pw},on:{input:function(t){t.target.composing||e.$set(e.conf,"ap_pw",t.target.value)}}}),a("label",{attrs:{for:"ap_pw"}},[e._v("WiFi Password "),a("Tooltip",{attrs:{text:"If empty, default password will be used. Default password is electrodacus"}})],1)]),a("button",{staticClass:"foot",on:{click:function(t){return t.preventDefault(),e.save(t)}}},[e._v("Save")])])])},i=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("h3",{staticClass:"title"},[e._v(e._s(e.title)+" "),e.unsaved?a("font-awesome-icon",{staticStyle:{color:"red"},attrs:{icon:"save"}}):e._e()],1),a("div",{staticClass:"content"},[e._t("default")],2)])},r=[],l={name:"Card",props:{title:String,unsaved:Boolean}},d=l,f=(a("c5c2"),a("2877")),m=Object(f["a"])(d,c,r,!1,null,"08c26320",null),u=m.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e.visible?a("div",{staticClass:"popper"},[e._v(" "+e._s(e.text)+" ")]):e._e(),a("a",{staticClass:"icon",on:{mouseover:e.show,mouseleave:e.hide}},[a("font-awesome-icon",{attrs:{icon:"info-circle"}})],1)])},_=[],b={name:"Tooltip",components:{},data:function(){return{visible:!1}},methods:{show:function(e){this.visible=!0},hide:function(e){this.visible=!1}},props:{text:String}},h=b,v=(a("1b65"),Object(f["a"])(h,p,_,!1,null,"6be6ff96",null)),g=v.exports,w={name:"WiFi",components:{Card:u,Tooltip:g},data:function(){return{loaded:!1,justLoaded:!1,changed:!1,conf:{hostname:"",sta_ssid:"",sta_pw:"",sta_enable:!1,ap_ssid:"esp-12345678",ap_pw:"electrodacus"}}},mounted:function(){var e=this;this.$http.get("/cfg/wifi").then((function(t){e.conf=t.data,e.loaded=!0,e.justLoaded=!0}))},methods:{save:function(e){var t=this;this.$http.post("/cfg/wifi",this.conf).then((function(e){console.log(e),t.changed=!1}))}},watch:{conf:{handler:function(e){this.justLoaded&&(this.changed=!0,this.justLoaded=!1)},deep:!0}}},x=w,y=(a("3477"),Object(f["a"])(x,o,i,!1,null,"41b1d174",null)),q=y.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{attrs:{title:"MQTT",unsaved:e.changed}},[a("form",{staticClass:"flex"},[a("h3",[e._v("Connection "),a("Tooltip",{attrs:{text:"MQTT is an IoT message passing protocol. Use this to publish your SBMS status to an MQTT broker every second. The data will be in JSON format."}})],1),a("div",{staticClass:"formgrid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.mq_enabled,expression:"conf.mq_enabled"}],attrs:{type:"checkbox",id:"mq_enabled",name:"mq_enabled"},domProps:{checked:Array.isArray(e.conf.mq_enabled)?e._i(e.conf.mq_enabled,null)>-1:e.conf.mq_enabled},on:{change:function(t){var a=e.conf.mq_enabled,n=t.target,s=!!n.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);n.checked?i<0&&e.$set(e.conf,"mq_enabled",a.concat([o])):i>-1&&e.$set(e.conf,"mq_enabled",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.conf,"mq_enabled",s)}}}),a("label",{attrs:{for:"mq_enabled"}},[e._v("Enable MQTT client "),a("Tooltip",{attrs:{text:"Enables the connection to an MQTT broker"}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.mq_host,expression:"conf.mq_host"}],attrs:{type:"text",id:"mq_host",name:"mq_host",disabled:!e.conf.mq_enabled},domProps:{value:e.conf.mq_host},on:{input:function(t){t.target.composing||e.$set(e.conf,"mq_host",t.target.value)}}}),a("label",{attrs:{for:"mq_host"}},[e._v("Server IP/Hostname")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.conf.mq_port,expression:"conf.mq_port",modifiers:{number:!0}}],attrs:{type:"number",id:"mq_port",name:"mq_port",disabled:!e.conf.mq_enabled},domProps:{value:e.conf.mq_port},on:{input:function(t){t.target.composing||e.$set(e.conf,"mq_port",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("label",{attrs:{for:"mq_port"}},[e._v("Server Port "),a("Tooltip",{attrs:{text:"Default is 1883"}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.mq_prefix,expression:"conf.mq_prefix"}],attrs:{type:"text",id:"mq_prefix",name:"mq_prefix",disabled:!e.conf.mq_enabled},domProps:{value:e.conf.mq_prefix},on:{input:function(t){t.target.composing||e.$set(e.conf,"mq_prefix",t.target.value)}}}),a("label",{attrs:{for:"mq_prefix"}},[e._v("MQTT prefix "),a("Tooltip",{attrs:{text:"Different topics will be published as configured in the Data section. The prefix will be prepended to the topics: [prefix]sbms. A prefix of '/' will become '/[topic]'. You could do '/solar/battery/' to get '/solar/battery/[topic]'."}})],1)]),a("h3",[e._v("Security "),a("Tooltip",{attrs:{text:"For now only unencrypted username/password connections or anonymous connections are supported."}})],1),a("div",{staticClass:"formgrid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.mq_user,expression:"conf.mq_user"}],attrs:{type:"text",id:"mq_user",name:"mq_user",disabled:!e.conf.mq_enabled},domProps:{value:e.conf.mq_user},on:{input:function(t){t.target.composing||e.$set(e.conf,"mq_user",t.target.value)}}}),a("label",{attrs:{for:"mq_user"}},[e._v("MQTT username "),a("Tooltip",{attrs:{text:"If empty no authentication will be used (anonymous)"}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.mq_password,expression:"conf.mq_password"}],attrs:{type:"password",id:"mq_password",name:"mq_password",disabled:!e.conf.mq_enabled},domProps:{value:e.conf.mq_password},on:{input:function(t){t.target.composing||e.$set(e.conf,"mq_password",t.target.value)}}}),a("label",{attrs:{for:"mq_password"}},[e._v("MQTT Password")])]),a("button",{staticClass:"foot",on:{click:function(t){return t.preventDefault(),e.save(t)}}},[e._v("Save")])])])},$=[],k={name:"Data",components:{Card:u,Tooltip:g},data:function(){return{loaded:!1,justLoaded:!1,changed:!1,conf:{mq_enabled:!1,mq_hostname:"",mq_port:1883,mq_prefix:"/",mq_user:"",mq_password:""}}},mounted:function(){var e=this;this.$http.get("/cfg/mqtt").then((function(t){e.conf=t.data,e.loaded=!0,e.justLoaded=!0}))},methods:{save:function(e){this.$http.post("/cfg/mqtt",this.conf).then((function(e){console.log(e)}))}},watch:{conf:{handler:function(e){this.justLoaded&&(this.changed=!0,this.justLoaded=!1)},deep:!0}}},C=k,S=(a("eeff"),Object(f["a"])(C,T,$,!1,null,"c686888e",null)),A=S.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{attrs:{title:"Data",unsaved:e.changed}},[a("form",{staticClass:"flex"},[a("h3",[e._v("SBMS "),a("Tooltip",{attrs:{text:"This data package contains most of the relevant live-information about the SBMS."}})],1),a("div",{staticClass:"formgrid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.sbms_enabled,expression:"conf.sbms_enabled"}],attrs:{type:"checkbox",id:"sbms_enabled",name:"sbms_enabled"},domProps:{checked:Array.isArray(e.conf.sbms_enabled)?e._i(e.conf.sbms_enabled,null)>-1:e.conf.sbms_enabled},on:{change:function(t){var a=e.conf.sbms_enabled,n=t.target,s=!!n.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);n.checked?i<0&&e.$set(e.conf,"sbms_enabled",a.concat([o])):i>-1&&e.$set(e.conf,"sbms_enabled",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.conf,"sbms_enabled",s)}}}),a("label",{attrs:{for:"sbms_enabled"}},[e._v("Enable")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.sbms_diff,expression:"conf.sbms_diff"}],attrs:{type:"checkbox",id:"sbms_diff",name:"sbms_diff",disabled:!e.conf.sbms_enabled},domProps:{checked:Array.isArray(e.conf.sbms_diff)?e._i(e.conf.sbms_diff,null)>-1:e.conf.sbms_diff},on:{change:function(t){var a=e.conf.sbms_diff,n=t.target,s=!!n.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);n.checked?i<0&&e.$set(e.conf,"sbms_diff",a.concat([o])):i>-1&&e.$set(e.conf,"sbms_diff",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.conf,"sbms_diff",s)}}}),a("label",{attrs:{for:"sbms_diff"}},[e._v("Include max cell delta "),a("Tooltip",{attrs:{text:"This will include the field 'delta' that shows the maximum cell delta."}})],1)]),a("h3",[e._v("S2 "),a("Tooltip",{attrs:{text:"This contains information about what cells are currently being balanced."}})],1),a("div",{staticClass:"formgrid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.s2_enbaled,expression:"conf.s2_enbaled"}],attrs:{type:"checkbox",id:"s2_enbaled",name:"s2_enbaled"},domProps:{checked:Array.isArray(e.conf.s2_enbaled)?e._i(e.conf.s2_enbaled,null)>-1:e.conf.s2_enbaled},on:{change:function(t){var a=e.conf.s2_enbaled,n=t.target,s=!!n.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);n.checked?i<0&&e.$set(e.conf,"s2_enbaled",a.concat([o])):i>-1&&e.$set(e.conf,"s2_enbaled",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.conf,"s2_enbaled",s)}}}),a("label",{attrs:{for:"s2_enbaled"}},[e._v("Enable")])]),a("button",{staticClass:"foot",on:{click:function(t){return t.preventDefault(),e.save(t)}}},[e._v("Save")])])])},j=[],D={name:"Data",components:{Card:u,Tooltip:g},data:function(){return{loaded:!1,justLoaded:!1,changed:!1,conf:{sbms_enabled:!0,sbms_diff:!1,s2_enabled:!1}}},mounted:function(){var e=this;this.$http.get("/cfg/data").then((function(t){e.conf=t.data,e.loaded=!0,e.justLoaded=!0}))},methods:{save:function(e){this.$http.post("/cfg/data",this.conf).then((function(e){console.log(e)}))}},watch:{conf:{handler:function(e){this.justLoaded&&(this.changed=!0,this.justLoaded=!1)},deep:!0}}},L=D,M=(a("f9c0"),Object(f["a"])(L,P,j,!1,null,"78b0ca5a",null)),N=M.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{attrs:{title:"System",unsaved:e.changed}},[a("form",{staticClass:"flex"},[a("h3",[e._v("Development "),a("Tooltip",{attrs:{text:"These are development settings and tools and you should normally not need to touch them."}})],1),a("div",{staticClass:"formgrid"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.conf.ota_limit,expression:"conf.ota_limit"}],attrs:{type:"checkbox",id:"ota_limit",name:"ota_limit"},domProps:{checked:Array.isArray(e.conf.ota_limit)?e._i(e.conf.ota_limit,null)>-1:e.conf.ota_limit},on:{change:function(t){var a=e.conf.ota_limit,n=t.target,s=!!n.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);n.checked?i<0&&e.$set(e.conf,"ota_limit",a.concat([o])):i>-1&&e.$set(e.conf,"ota_limit",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.conf,"ota_limit",s)}}}),a("label",{attrs:{for:"ota_limit"}},[e._v("Limit OTA to the first 5 minutes after reboot "),a("Tooltip",{attrs:{text:"Security feature, makes sure you had physical acces to reboot the device first."}})],1),a("a",{attrs:{href:"/debug",target:"_blank"}},[e._v("CPU stats")])]),a("button",{staticClass:"foot",on:{click:function(t){return t.preventDefault(),e.save(t)}}},[e._v("Save")])])])},W=[],I={name:"System",components:{Card:u,Tooltip:g},data:function(){return{loaded:!1,justLoaded:!1,changed:!1,conf:{ota_limit:!0}}},mounted:function(){var e=this;this.$http.get("/cfg/sys").then((function(t){e.conf=t.data,e.loaded=!0,e.justLoaded=!0}))},methods:{save:function(e){this.$http.post("/cfg/sys",this.conf).then((function(e){console.log(e)}))}},watch:{conf:{handler:function(e){this.justLoaded&&(this.changed=!0,this.justLoaded=!1)},deep:!0}}},O=I,F=(a("520f"),Object(f["a"])(O,E,W,!1,null,"b17b1108",null)),Q=F.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("magic-grid",{attrs:{gap:16,animate:!1,maxColWidth:480}},[e._t("default")],2)},B=[],G={name:"Grid"},J=G,H=(a("a3df"),Object(f["a"])(J,U,B,!1,null,"420147cd",null)),Y=H.exports,z={name:"Settings",components:{WiFi:q,Mqtt:A,Data:N,System:Q,Grid:Y}},K=z,R=Object(f["a"])(K,n,s,!1,null,"52b9ae64",null);t["default"]=R.exports},3477:function(e,t,a){"use strict";var n=a("5172"),s=a.n(n);s.a},"436a":function(e,t,a){},5172:function(e,t,a){},"520f":function(e,t,a){"use strict";var n=a("aa67"),s=a.n(n);s.a},a3df:function(e,t,a){"use strict";var n=a("da2c"),s=a.n(n);s.a},aa67:function(e,t,a){},c5c2:function(e,t,a){"use strict";var n=a("fe27"),s=a.n(n);s.a},da2c:function(e,t,a){},e84b:function(e,t,a){},eeff:function(e,t,a){"use strict";var n=a("175c"),s=a.n(n);s.a},f9c0:function(e,t,a){"use strict";var n=a("e84b"),s=a.n(n);s.a},fe27:function(e,t,a){}}]);